#+TITLE: newm agenda

* Current (aiming for v0.1.0)
** Fixes / Technical debt
*** DONE Triggering OverviewOverlay during new view animation causes this view to disappear
*** DONE Generalize _animation / update / animate_to in view / widget / layout
*** DONE Focus lock panel on ensure_locked
*** DONE Fix logging of auth info
*** DONE VLC fullscreen -> control bar disappears -> wrong view is focused?!
*** DONE Fix SwipToZoomOverlay jitter
*** DONE Fix occasional weird resizing issues (Window shortly uses 2x1 then goes to 1x1 / sometimes sizes are set negative in reducer)
*** TODO Fix typing
*** DONE Setup 1x1 1x2 / bottom left empty -> temporary stacking on new window
*** TODO Occasional bugs removing rows / cols (possibly related to rounding)
*** STRT Debug current window layout via newm-cmd
*** STRT Only focus other view on close if closed view was focused

** Session management / Lock screen
*** DONE Lock screen: Unlock via python-pam
*** DONE Lock screen: Start session via pygreetd_ipc
*** DONE Automatically lock on hibernate (e.g. via small websocket-based client sending one command to panel_endpoint - comparable to swaymsg)
*** DONE Idle management: dim screen / lock after some time (see swayidle) / dim on lock

** Improve panels
*** DONE Embed font to make it available in greeter-mode
*** KILL Clean-up panel installation / launch-script
*** TODO Configurable padding and similar for panels
*** TODO Useful newm-basic-lock-panel (separate directory within newm repo)
*** TODO newm-basic-launcher-panel with fzy / dmenu or similar
*** TODO Create newm-panel-flutter

** Usability
*** DONE Stacking functionality
*** DONE Stacking and _origin
*** MoveResizeOverlay
**** DONE Fix jumps if we start in an out-of-bounds state
**** DONE Focus view on close to reduce cases where we end up in out-of-bounds state
**** DONE Exit is oftentimes too slow (small dx, but also small p -> full animation duration) - especially noticeable if switching to Three-Finger-Swipe
**** DONE Enforce bounds more tightly - i.e. only allow scrolling beyond bounds if necessary (scale = 2, but only 1x1 window) or we are at the border and explicitly scroll further
*** Grid
**** TODO Better logic for decision if we jump on final() - i.e. make necessary momentum for dx=1 smaller than is now, but for dx=2 bigger than is now
**** TODO Allow slowly swiping past multiple screens
*** DONE (Move)ResizeOverlay and SwipeToZoomOverlay: Hysteresis-based update of size (=scale_origin) during gesture
*** DONE New (more like classic) fullscreen functionality (especially necessary if there are 2 1x2 windows)
*** DONE Remove possibility of wholes in between
*** DONE Limit SwipeToZoom by size of focused (if possibly)

** Documentation
*** TODO README / Install guide
*** TODO Video
*** TODO Tests on other machines

** Configuration
*** DONE Read config file from .config/newm with info now in run.py and layout.py
*** DONE newm-cmd to show config (keys as well as current values)
*** DONE Fail gracefully if config.py is faulty / Print out errors for unknown keys / ...
*** DONE Keybindings
*** DONE SysBackend
*** DONE TopBar / BottomBar
*** TODO Check that it works together with greeter
*** TODO Constants: Animation time / ...
*** STRT Don't fall back to default_config if an error occurs during hot-reload

* Backlog / Ideas
** Titles during OverviewOverlay
** Improve panel handling (Monitor forked processes / identify based on pid / ...)
** Configurable launcher (XDG)
** Allow certain overlays to start during animations (e.g. 3/4-Finger-Swipe during animation one view)
** Autoplace the first couple of windows more like i3 (i.e. resizing existing windows / tiling)
** Bars as panels not as widgets
